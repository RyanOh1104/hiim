{% extends 'main/base.html' %}
{% load mathfilters %}
{% load static %}
{% block css %}
<link rel="stylesheet" href="{% static 'dansang/dansang.css' %}">
{% endblock %}

{% block title %} ë„ì ë„ì  {% endblock %}

{% load crispy_forms_tags %}

{% block content %}
<div class="row block-spacing"></div>

<div class="row justify-content-center top-block">
    <div class="col col-10 text-center">
        <span class="archive-title">ë„ì ë„ì </span><span class="archive-icon">ğŸ’¬</span>
    </div>
    <div class="col col-12 text-center">
        <!-- <div class="archive-subtitle">ë¬¸ë“ ë– ì˜¤ë¥´ëŠ” ìƒê°ë“¤ì˜ ê¸°ë¡</div> -->
        <div class="archive-subtitle">ë– ì˜¤ë¥´ëŠ” ì•„ë¬´ ìƒê°ì´ë‚˜. ììœ ë¡­ê²Œ.</div>
    </div>
</div>

<div class="block-spacing"></div>
<!-- 
<div class="row justify-content-center only-authuser">
    <div class="col col-12 text-center">
        <a href="#"><img src="C:\Users\user\hiim\mvp\static\mvp\images\add.png"></a>
    </div>
</div> -->
{{hey}}
<div class="row">
    <div class="col col-6 button-new">
        <a href="/dansang/dansanginput">
            <button class="all-buttons btn-lg btn-sm btn-primary">âœ’ï¸ ìƒê° ë„ì ì´ê¸°</button>
        </a>
    </div>
    <!-- <div class="col col-6 text-right">
        <div class="dropdown">
            <button class="btn menial-buttons dropdown-toggle" type="button" id="dropdownMenuButton" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                <span>ğŸ”– ì¹´í…Œê³ ë¦¬</span>
            </button>
                <div class="dropdown-menu" aria-labelledby="dropdownMenuButton">
                        <button class="dropdown-item" id="SeeAllCat">ì „ì²´ ë³´ê¸°</button>
                    <div class="dropdown-divider"></div>
                    {% for category in categories %}
                        {% for cid, cname in category.items %}
                        <button class="dropdown-item" id="cat-{{cid}}">{{cname}}</button>
                        {% endfor %}
                    {% endfor %}
                </div>
        </div>
    </div> -->
    <div class="col col-6 button-input">
        <a href="/dansang/seed">
            <button class="all-buttons btn-lg btn-sm menial-buttons" id="tooltip-seed" data-toggle="tooltip" data-placement="right" title="ë‹¤ì–‘í•œ ì¸í’‹ì„ ì œê³µí•´ë“œë ¤ìš”.">ğŸŒ± ì”¨ì•—ì´ í•„ìš”í•´ìš”?</button>
        </a>
    </div>
</div>
<div class="block-spacing"></div>

<div class="allCat">
    {% for item in posts %}
    <div class="row justify-content-center">
        <div class="col col-12">
            <a href="{{item.url}}" class="all-links">
            <div class="row justify-content-center">
                <div class="col col-11 block-dansang">
                    <span class="title">{{item.title}}</span><br class='mobile-only'>
                    <span class="first-sentence"> | {{item.subtitle|safe}}</span>
                </div>
            </div>
            </a>
        </div>
    </div>
    <br class='mobile-only'>
    <div class="block-spacing pc-only"></div>
    {% endfor %}
</div>

<div class="eachCat">
    {% for item in posts %}
    <div class="row justify-content-center {{item.categoryEng}}">
        <div class="col col-12">
            <a href="{{item.url}}" class="all-links">
            <div class="row justify-content-center">
                <div class="col col-11 block-dansang">
                    <span class="title">{{item.title}}</span><br class='mobile-only'>
                    <span class="first-sentence"> | {{item.subtitle|safe}}</span>
                </div>
            </div>
            </a>
        </div>
    </div>
    <br class='mobile-only'>
    <div class="block-spacing pc-only"></div>
    {% endfor %}
    </div>

<br>
<div class="row">
    <div class="col text-center">
        {% if posts.has_previous %}
        <a href="?page=1"><span class="pagination-buttons">ì²˜ìŒ</span></a>
        <a href="?page={{posts.previous_page_number}}"><span class="pagination-buttons"><</span></a>
        {% elif not posts.has_previous %}
        <a href=""><span class="pagination-buttons">ì²˜ìŒ</span></a>
        <a href=""><span class="pagination-buttons"><</span></a>
        {% endif %}
        <span>{{posts.number}}</span>
        <span>/</span>
        <span>{{posts.paginator.num_pages}}</span>
        {% if posts.has_next %}
        <a href="?page={{posts.next_page_number}}"><span class="pagination-buttons">></span></a>
        <a href="?page={{posts.paginator.num_pages}}"><span class="pagination-buttons">ë</span></a>
        {% elif not posts.has_next %}
        <a href=""><span class="pagination-buttons">></span></a>
        <a href=""><span class="pagination-buttons">ë</span></a>
        {% endif %}
    </div>
</div>
  
<!-- <div class="manual">
    <button class="btn manual-button" id="manual-dansang">
        ğŸ“‹ ì‚¬ìš©ë²•
    </button>
</div> -->

<div class="block-spacing"></div>
<div class="block-spacing"></div>

<script>
    $(function () {
        $('#tooltip-seed').tooltip()
    })

    $(document).ready(function(){
        $('.eachCat').hide();

        $('.dropdown-toggle').dropdown();

        $('#seeAllCat').click(function() {
            $('.eachCat').hide();
            $('.allCat').show();
        })
        console.log('ì˜ì–´ë¡œëŠ”', '{{categoryEngList}}')
        console.log('í•œê¸€ë¡œëŠ”', '{{categoryList}}')
        console.log('{{categories}}');

        var thisCat;
        //$('.dropdown-menu').children()
        $(`#cat-${thisCat}`).click(function() {
            console.log(`the fuck ${thisCat}`);

            $('.allCat').hide();
            $('.eachCat').children(`.${thisCat}`).show();
        })
    });
</script>
{% endblock %}

